(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.plugins,o=window.React,n=window.wp.primitives,r=(0,o.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(n.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})),i=window.wp.editPost,a=window.wp.i18n,l=window.crocoblock.components,c=window.wp.url,m=window.wp.element,s=window.wp.components,d=function({meta:e,setMeta:t,forms:n,setSearchForm:r}){const i=(0,m.useRef)(),[l,c]=(0,m.useState)(!1);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(s.VisuallyHidden,{as:"button",ref:i}),(0,o.createElement)(s.ComboboxControl,{label:(0,a.__)("Select form","jet-form-builder-pdf"),options:n,value:e.formId,onChange:o=>{!o&&e.formId?c(!0):t({...e,formId:o})},onFilterValueChange:r}),l&&(0,o.createElement)(s.__experimentalConfirmDialog,{isOpen:l,onConfirm:()=>{t({...e,formId:null}),c(!1),i.current.focus()},onCancel:()=>c(!1),cancelButtonText:(0,a.__)("No, keep current selected form","jet-form-builder-pdf")},(0,a.__)("Would you like to not sync template with the specific form?","jet-form-builder-pdf")))},f=window.wp.apiFetch;var u=e.n(f);const w=window.wp.data,p={render:function(){const e=(0,c.getQueryArg)(window.location,"jfb");(0,m.useEffect)((()=>{e?.formId&&n({...t,formId:+e.formId})}),[]);const[t,n]=(0,l.useCurrentPostJsonMeta)("jfb_form"),[s,f]=(0,l.useSearchPostTypes)("jet-form-builder",{include:[t.formId],status:"any"});return function({formId:e}){const{setFields:t}=(0,w.useDispatch)("jet-templates/conditions");(0,m.useEffect)((()=>{e?u()({path:`/jet-form-builder/v1/${e}/fields`}).then((e=>{t(e.fields)})).catch((e=>{console.log(e),t([])})):t([])}),[e])}({formId:t?.formId}),(0,o.createElement)(i.PluginDocumentSettingPanel,{name:"connector",title:(0,a.__)("JetFormBuilder Form","jet-form-builder-pdf"),icon:r},(0,o.createElement)(d,{forms:s,setMeta:n,meta:t,setSearchForm:f}))}};(0,t.registerPlugin)("jfb-connector",p)})();